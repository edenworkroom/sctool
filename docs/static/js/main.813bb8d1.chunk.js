(this.webpackJsonpcontract=this.webpackJsonpcontract||[]).push([[0],{148:function(e,t,a){e.exports=a(351)},153:function(e,t,a){},193:function(e,t,a){},351:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(13),c=a.n(i),o=(a(153),a(79),a(70)),s=a.n(o),l=a(14),u=a(15),m=a(18),h=a(17),d=a(19),p=(a(193),a(112)),f=a(35),v=(a(194),a(75)),b=a.n(v),y=(a(93),a(48)),g=a.n(y),E=(a(94),a(49)),k=a.n(E),O=(a(95),a(24)),j=a.n(O),x=(a(203),a(110)),w=a.n(x),K=(a(56),a(25)),S=a.n(K),F=(a(97),a(34)),C=a.n(F),D=(a(217),a(52)),L=a.n(D),I=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,[{key:"get",value:function(e){var t=window.localStorage.getItem(e);if(t)return JSON.parse(t)}},{key:"key",value:function(e){return window.localStorage.key(e)}},{key:"delete",value:function(e){window.localStorage.removeItem(e)}},{key:"set",value:function(e,t){t&&window.localStorage.setItem(e,JSON.stringify(t))}},{key:"has",value:function(e){return!!window.localStorage.getItem(e)}}]),e}(),A=function(){function e(t,a){Object(l.a)(this,e),this.db=a,this.prefix=t,this.headKey=this.genKey("headkey"),this.tailKey=this.genKey("tailKey")}return Object(u.a)(e,[{key:"genKey",value:function(e){return this.prefix+":"+e}},{key:"forEach",value:function(e){var t=this.db.get(this.tailKey);if(t)for(;;){var a=this.db.get(t);if(!a)return;if(e(a.value,t.substring(t.lastIndexOf(":")+1)))break;if(!a.prevKey)break;t=a.prevKey}}},{key:"insert",value:function(e,t){e=this.genKey(e);var a=this.db.get(e);if(a)return a.value=t,void this.db.set(e,a);a={value:t};var n=this.db.get(this.headKey);if(n){a.nextKey=n;var r=this.db.get(a.nextKey);r.prevKey=e,this.db.set(a.nextKey,r)}else this.db.set(this.tailKey,e);this.db.set(this.headKey,e),this.db.set(e,a)}},{key:"insertList",value:function(e){var t=this;e.forEach((function(e,a){t.insert(t.genKey(e.key),e.value)}))}},{key:"remove",value:function(e){e=this.genKey(e);var t=this._del(e);if(t){var a=this._get(t.prevKey),n=this._get(t.nextKey);return a?(a.nextKey=t.nextKey,this._set(t.prevKey,a)):this._set(this.headKey,t.nextKey),n?(n.prevKey=t.prevKey,this._set(t.nextKey,n)):this._set(this.tailKey,t.prevKey),t}}},{key:"_get",value:function(e){if(e)return this.db.get(e)}},{key:"_set",value:function(e,t){e&&(t?this.db.set(e,t):this.db.delete(e))}},{key:"_del",value:function(e){if(e){var t=this.db.get(e);return this.db.delete(e),t}}},{key:"get",value:function(e){if(e){e=this.genKey(e);var t=this.db.get(e);return t?t.value:void 0}}}]),e}(),H=new I,_=a(50),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).db=new A("SC",H),a.nameDecorator=a.props.form.getFieldDecorator("name",{rules:[{required:!0}]}),a.addressDecorator=a.props.form.getFieldDecorator("address",{rules:[{required:!0}]}),a.abiDecorator=a.props.form.getFieldDecorator("abi",{rules:[{required:!0}]}),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"submit",value:function(){var e=this,t=this;this.props.form.validateFields((function(a,n){if(!n.address)return L.a.fail("Address is required!",1),void t.setState({confirming:!1});var r=n.address;if(!/^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{80,}$/i.test(r))return L.a.fail("Address must be base58!",1),void t.setState({confirming:!1});if(!n.name)return L.a.fail("Name is required!",1),void t.setState({confirming:!1});if(!n.abi)return L.a.fail("Abi is required!",1),void t.setState({confirming:!1});try{JSON.parse(n.abi)}catch(s){return L.a.fail("Abi must be json!",1),void t.setState({confirming:!1})}var i=n.address,c=n.name,o=n.abi;e.db.insert(i,{name:c,abi:o}),window.location.replace("#/op")}))}},{key:"render",value:function(){var e=this;this.props.form.getFieldProps;return r.a.createElement("div",{style:{padding:"15px 0"}},r.a.createElement(g.a,null,r.a.createElement(S.a,{renderHeader:function(){return"\u667a\u80fd\u5408\u7ea6\u540d\u79f0:"}},this.nameDecorator(r.a.createElement(C.a,{clear:!0,name:"name",placeholder:"name",ref:function(t){return e.autoFocusInst=t}}))),r.a.createElement(S.a,{renderHeader:function(){return"\u667a\u80fd\u5408\u7ea6\u5730\u5740:"}},this.addressDecorator(r.a.createElement(w.a,{clear:!0,name:"address",placeholder:"address",ref:function(t){return e.autoFocusInst=t},rows:3}))),r.a.createElement(S.a,{renderHeader:function(){return"\u667a\u80fd\u5408\u7ea6abi:"}},this.abiDecorator(r.a.createElement(w.a,{clear:!0,name:"abi",placeholder:"abi",ref:function(t){return e.autoFocusInst=t},rows:3}))),r.a.createElement(j.a,null),r.a.createElement(k.a,{type:"primary",onClick:function(){e.submit()}},"\u52a0\u8f7d"),r.a.createElement(j.a,null)))}}]),t}(n.Component),N=Object(_.a)()(q),J=function(e){function t(e){return Object(l.a)(this,t),Object(m.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:document.documentElement.clientHeight}},r.a.createElement("div",{style:{padding:"50px 30px 10px 30px"}},r.a.createElement("span",{style:{fontSize:"18px",color:"blue"}},"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\u627f\u63a5\u667a\u80fd\u5408\u7ea6\uff0c\u624b\u673a\u94b1\u5305dapp\u5f00\u53d1\u3002\u6709\u610f\u8005\u8054\u7cfb\u4f5c\u8005\uff0c\u5fae\u4fe1\u53f7\u89c1\u5e95\u90e8\u3002")),r.a.createElement(N,null),r.a.createElement("div",{style:{padding:"0 15px"}},r.a.createElement("p",null,"\u5f00\u53d1\u8005\uff1aeden",r.a.createElement("br",null),"\u5982\u5bf9\u60a8\u6709\u7528\uff0c\u53ef\u4ee5\u6253\u8d4f\uff0c\u591a\u8c22\u60a8\u7684\u652f\u6301\u3002",r.a.createElement("br",null)," \u5982\u6709\u95ee\u9898\u8bf7\u8054\u7cfb\u5f00\u53d1\u8005\u3002"),r.a.createElement(b.a,null,r.a.createElement(b.a.Item,null,r.a.createElement("img",{src:"wc.jpeg",width:"150",height:"150"}),r.a.createElement("p",{style:{textAlign:"center"}},"\u5fae\u4fe1\u53f7")),r.a.createElement(b.a.Item,null,r.a.createElement("img",{src:"address.jpeg",width:"150",height:"150"}),r.a.createElement("p",{style:{textAlign:"center"}},"\u6536\u6b3e\u7801")))))}}]),t}(n.Component),M=a(51),P=(a(296),a(145)),B=a.n(P),z=a(111),R=a.n(z),T={name:"SC Tool",contractAddress:"none",github:"https://github.com/edenworkroom/sctool",author:"eden",url:document.location.href,logo:document.location.protocol+"//"+document.location.host+"/sctool/sctool.png"};R.a.init(T,(function(){}));var V=R.a,W=a(146),G=a.n(W),$=a(349),Q=new $("1000000000000000000"),U=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).valueDecorator=a.props.form.getFieldDecorator(e.input.name,{rules:[]}),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.valueDecorator(r.a.createElement(C.a,{key:this.props.input.name,type:"text",name:this.props.input.name,placeholder:this.props.input.type},this.props.input.name))}}]),t}(n.Component),X=function(e){function t(e){return Object(l.a)(this,t),Object(m.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"execute",value:function(e,t){var a=this;a.props.method.constant?V.call(e,(function(e){if("0x"!==e){var n=t.unPackData(a.props.method.name,e);a.refs.result.innerHTML=n}})):V.executeContract(e,(function(e){a.refs.result.innerHTML=e}))}},{key:"submit",value:function(){var e=this,t=this,a="",n="0",r="0";t.props.accountForm.validateFields((function(e,t){a=t.account,t.value&&(n=t.value),t.gasLimit&&(r=t.gasLimit)}));var i=[];t.props.form.validateFields((function(t,a){e.props.method.inputs.forEach((function(e){i.push(a[e.name])}))}));var c=G.a.callContract(this.props.contract.abi,this.props.contract.address);try{var o="";this.props.method.name&&(o=c.packData(this.props.method.name,i));var s={from:a,to:this.props.contract.address,value:"0x"+new $(n).multipliedBy(Q).toString(16),data:o};"0"!==r||t.props.method.constant?(s.gas="0x"+new $(r).toString(16),t.execute(s,c)):V.estimateGas(s,(function(e){s.gas="0x"+new $(e).toString(16),t.execute(s,c)}))}catch(l){alert(l.message)}}},{key:"render",value:function(){var e,t=this,a=this,n=this.props.method.name?this.props.method.name:"fallback";return this.props.method.inputs&&(e=this.props.method.inputs.map((function(e){return r.a.createElement(U,{key:e.name,input:e,form:a.props.form})}))),r.a.createElement("div",{className:"abi"},r.a.createElement(j.a,null),r.a.createElement(S.a,null,r.a.createElement(S.a.Item,null,r.a.createElement("div",{style:{float:"left"}},n),r.a.createElement("div",{style:{float:"right"}},r.a.createElement(k.a,{onClick:function(){return t.submit()},type:"primary",inline:!0,size:"small",style:{marginRight:"4px"}},a.props.method.constant?"call":"transact"))),r.a.createElement(S.a.Item,null,e,r.a.createElement("div",{ref:"result",style:{paddingLeft:"15px"}}))),r.a.createElement(j.a,null))}}]),t}(n.Component),Y=Object(_.a)()(X),Z=function(e){function t(e){return Object(l.a)(this,t),Object(m.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=[],t=[],a=this;return a.props.abi.forEach((function(n,i){"constructor"!=n.type&&"event"!=n.type&&(n.constant?e.push(r.a.createElement(Y,{key:i,contract:a.props.contract,method:n,accountForm:a.props.accountForm})):t.push(r.a.createElement(Y,{key:i,contract:a.props.contract,method:n,accountForm:a.props.accountForm})))})),r.a.createElement(g.a,null,e,t)}}]),t}(n.Component),ee=B.a.operation,te=function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).formatAccount=function(e,t){if(t||(t=0),e)return e.slice(0,6)+"...."+e.slice(-6)+" ("+t+")"},a.showAccountList=function(){var e=Object(M.a)(a),t=[];a.state.accounts.forEach((function(a,n){var r=a.balances.SERO;r||(r=0);var i=e.formatAccount(n,r);t.push({text:a.name+":"+i,onPress:function(){e.props.form.setFieldsValue({account:n}),e.setState({account:n})}})})),ee(t)},a.showContractList=function(){var e=[],t=Object(M.a)(a);a.state.contracts.forEach((function(a,n){e.push({text:a.name+":"+n,onPress:function(){t.setState({contract:n})}})})),ee(e)},a.db=H,a.db=new A("SC",H);var n,r=new Map;Object(M.a)(a);a.db.forEach((function(e,t){n||(n=t);var a=JSON.parse(e.abi);r.set(t,{name:e.name,abi:a,address:t})}));new Map;return a.state={contract:n,contracts:r},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new Map,a="";V.accountList((function(n){n.forEach((function(e,n){0==n&&(a=e.PK),t.set(e.PK,{name:e.Name,balances:e.Balance})})),e.setState({accounts:t,account:a})}))}},{key:"render",value:function(){var e=this.state.contracts.get(this.state.contract);return r.a.createElement("div",{style:{padding:"15px 0"}},r.a.createElement(g.a,null,r.a.createElement(j.a,null),r.a.createElement(S.a,{renderHeader:function(){return"\u9009\u62e9\u8d26\u53f7"}},this.props.form.getFieldDecorator("account",{rules:[{required:!0}],initialValue:this.state.account})(r.a.createElement(C.a,{onClick:this.showAccountList,name:"account"})),this.props.form.getFieldDecorator("value",{rules:[]})(r.a.createElement(C.a,{type:"text",name:"value",placeholder:"value"},"value")),this.props.form.getFieldDecorator("gasLimit",{rules:[]})(r.a.createElement(C.a,{type:"text",name:"gasLimit",placeholder:"gasLimit"},"gasLimit"))),r.a.createElement(j.a,{size:"md"}),r.a.createElement(S.a,{renderHeader:function(){return"\u9009\u62e9\u5408\u7ea6"}},r.a.createElement(k.a,{onClick:this.showContractList},this.state.contract)),r.a.createElement(j.a,null)),e&&e.abi&&r.a.createElement(Z,{contract:e,abi:e.abi,accountForm:this.props.form}),r.a.createElement(j.a,null))}}]),t}(n.Component),ae=Object(_.a)()(te),ne=function(e){function t(e){return Object(l.a)(this,t),Object(m.a)(this,Object(h.a)(t).call(this,e))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:document.documentElement.clientHeight}},r.a.createElement(ae,null))}}]),t}(n.Component),re=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={link:"/load"},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleLink",value:function(){"/load"===this.state.link?this.setState({link:"/op"}):this.setState({link:"/load"})}},{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",{style:{float:"right",paddingRight:"15px"}},r.a.createElement(p.b,{onClick:this.handleLink.bind(this),key:"op",to:this.state.link},r.a.createElement(s.a,{type:"right"}))),r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",component:J}),r.a.createElement(f.a,{exact:!0,path:"/op",component:ne}),r.a.createElement(f.a,{exact:!0,path:"/load",component:J})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[148,1,2]]]);
//# sourceMappingURL=main.813bb8d1.chunk.js.map